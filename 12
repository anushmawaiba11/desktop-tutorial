class MissingDetailException extends Exception {
    public MissingDetailException(String message) {
        super(message);
    }
}

abstract class Notification {
    private String recipient;

    public Notification(String recipient) throws MissingDetailException {
        if (recipient == null || recipient.isEmpty()) {
            throw new MissingDetailException("Recipient details are missing!");
        }
        this.recipient = recipient;
    }

    public String getRecipient() {
        return recipient;
    }

    public abstract void send() throws MissingDetailException;
}

class EmailNotification extends Notification {
    private String emailMessage;

    public EmailNotification(String recipient, String emailMessage) throws MissingDetailException {
        super(recipient);
        if (emailMessage == null || emailMessage.isEmpty()) {
            throw new MissingDetailException("Email message cannot be empty!");
        }
        this.emailMessage = emailMessage;
    }

    @Override
    public void send() {
        System.out.println("Sending Email to " + getRecipient() + ": " + emailMessage);
    }
}


class SMSNotification extends Notification {
    private String smsText;

    public SMSNotification(String recipient, String smsText) throws MissingDetailException {
        super(recipient);
        if (smsText == null || smsText.isEmpty()) {
            throw new MissingDetailException("SMS text cannot be empty!");
        }
        this.smsText = smsText;
    }

    @Override
    public void send() {
        System.out.println("Sending SMS to " + getRecipient() + ": " + smsText);
    }
}


class PushNotification extends Notification {
    private String pushMessage;

    public PushNotification(String recipient, String pushMessage) throws MissingDetailException {
        super(recipient);
        if (pushMessage == null || pushMessage.isEmpty()) {
            throw new MissingDetailException("Push message cannot be empty!");
        }
        this.pushMessage = pushMessage;
    }

    @Override
    public void send() {
        System.out.println("Sending Push Notification to " + getRecipient() + ": " + pushMessage);
    }
}

public class NotificationSystem {
    public static void main(String[] args) {
        try {
            Notification[] notifications = {
                    new EmailNotification("alice@example.com", "Welcome Alice!"),
                    new SMSNotification("9876543210", "Your OTP is 1234"),
                    new PushNotification("User123", "You have a new message!")
            };

            for (Notification n : notifications) {
                n.send();
            }
            
            Notification bad = new SMSNotification("12345", "");
            bad.send();

        } catch (MissingDetailException e) {
            System.out.println("Error: " + e.getMessage());
        }
    }
}

